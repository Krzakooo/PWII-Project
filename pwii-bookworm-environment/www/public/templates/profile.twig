<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
</head>
<body>
    <h1>User Profile</h1>
    {% if flashyMessages %}
            <h2 style="color: red;">{{ flashyMessages }}</h2>
    {% endif %}

    {% if errors %}
        <div style="color: red;">
            {% for error in errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>

    {% else %}
        {% if post %}
            <div style="color: green;">Profile updated successfully!</div>
        {% endif %}
    {% endif %}

    {% if profilePictureUrl %}
        <img src="{{ profilePictureUrl }}" alt="Profile Picture">
    {% else %}
        <p>No profile picture available</p>
    {% endif %}
    
    {% if currentUser %}
        <form action="/profile" method="POST" enctype="multipart/form-data" data-cy="profile">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" value="{{ currentUser.getEmail() }}" data-cy="profile__email"><br><br>
            
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" value="{{ currentUser.getUsername() }}" data-cy="profile__username"><br><br>
            
            <label for="profile-picture">Profile Picture:</label>
            <input type="file" id="profile-picture" name="profile-picture" accept="image/png, image/jpeg, image/gif, image/svg+xml" data-cy="profile__picture"><br><br>
            
            <input type="submit" value="Update Profile" data-cy="profile__btn">
        </form>
    {% else %}
        <p>User not found.</p>
    {% endif %}
    
    
</body>
</html>
